# カタログ

## 概要

- テーブルのメタデータ (テーブル名、カラム情報、インデックス情報など) を管理する
- カタログは実データとは別のファイル (`minesql.db`) に保存される
  - 実データは 各テーブルごとに `${table_name}.db` に保存される
- カタログは以下の 3 つの B+Tree で構成される
  - テーブルメタデータ B+Tree
  - インデックスメタデータ B+Tree
  - カラムメタデータ B+Tree

### ヘッダー

- カタログファイルの先頭ページはヘッダーページとしている
- ヘッダーページの構成は以下
  - オフセット 0-3: ファイルシグネチャとして設定されるマジックナンバー (固定値 `MINE` が格納される)
  - オフセット 4-7: テーブルメタデータの B+Tree のページ番号
  - オフセット 8-11: インデックスメタデータの B+Tree のページ番号
  - オフセット 12-15: カラムメタデータの B+Tree のページ番号
  - オフセット 16-23: 次に割り当てるテーブル ID

## カラムメタデータ

- 現状は全て文字列型として扱う

## インデックスメタデータ

- 現状はユニークインデックスのみサポート
